(function(t){function e(e){for(var n,o,i=e[0],c=e[1],u=e[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(m.length)m.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,i=1;i<s.length;i++){var c=s[i];0!==a[c]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},a={app:0},r=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"03ae":function(t,e,s){},"0ebf":function(t,e,s){"use strict";var n=s("6f57"),a=s.n(n);a.a},"13c2":function(t,e,s){"use strict";var n=s("03ae"),a=s.n(n);a.a},"3b53":function(t,e,s){"use strict";var n=s("876e"),a=s.n(n);a.a},"4c59":function(t,e,s){},5359:function(t,e,s){"use strict";var n=s("7175"),a=s.n(n);a.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),a=s("8c4f"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component"},[t.username?s("div",[s("h1",[t._v("Welcome back "+t._s(t.username))]),s("hr"),s("h2",[t._v("Your current funds : "+t._s(t.funds)+"€")])]):s("div",[s("h1",[t._v("Welcome to the stock trader simulator")]),s("p",[t._v(" Here you can search for stocks using real time stock market value, buy and sell them and add them to a watch list. Try to make as much money as you can ! ")]),s("p",[t._v(" You can use the app freely without an account, but to save your data you will need to sign up ")])])])},o=[],i={computed:{funds:function(){return this.$store.getters.fundsFormat},username:function(){return this.$store.getters.username}}},c=i,u=(s("5be2"),s("2877")),l=Object(u["a"])(c,r,o,!1,null,"1f7d67b2",null),d=l.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component"},t._l(t.owned,(function(t){return s("stock-component",{key:t.symbol,attrs:{stock:t}})})),1)},p=[],h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"header"},[s("span",[t._v(t._s(t.name)+" ("+t._s(t.stock.symbol)+")")]),s("small",[t._v("(price: "+t._s(t.price)+" | quantity: "+t._s(t.stock.quantity)+")")])]),s("ul",{staticClass:"info"},["N/A"!==t.dayHigh?s("li",[t._v("Day High: "+t._s(t.dayHigh)+t._s(t.currency))]):t._e(),"N/A"!==t.dayLow?s("li",[t._v("Day Low: "+t._s(t.dayLow)+t._s(t.currency))]):t._e(),s("li",{staticClass:"green",class:{red:t.absoluteDayChange<0}},[t._v(" "+t._s(t.absoluteDayChange)+t._s(t.currency)+" ")]),s("li",{staticClass:"green",class:{red:t.absoluteDayChange<0}},[t._v(" "+t._s(t.pctDayChange)+"% ")])]),s("div",{staticClass:"controls"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"Quantity"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),s("button",{attrs:{disabled:t.quantity<=0||!Number.isInteger(t.quantity)||t.quantity>t.stock.quantity},on:{click:t.sell}},[t._v(" Sell ")])])])},f=[],v=(s("99af"),s("b0c0"),s("d3b7"),{data:function(){return{quantity:0,price:0,dayHigh:0,dayLow:0,absoluteDayChange:0,pctDayChange:0,name:"",currency:""}},props:["stock"],methods:{sell:function(){this.$store.commit("buy",{price:-1*this.price,quantity:this.quantity}),this.$store.commit("sellStock",{symbol:this.stock.symbol,quantity:this.quantity}),this.quantity=0}},created:function(){var t=this;fetch("https://api.worldtradingdata.com/api/v1/stock?symbol=".concat(this.stock.symbol,"&api_token=").concat("OcgJhbKGABJtlwuhP5nADUUDa0ESUgbmqz0cj3eqNq7T3avPCrUe8drx0K1h")).then((function(t){return t.json()})).then((function(e){t.price=e.data[0].price,t.dayHigh=e.data[0].day_high,t.dayLow=e.data[0].day_low,t.name=e.data[0].name,t.absoluteDayChange=e.data[0].day_change>0?"+".concat(e.data[0].day_change):e.data[0].day_change,t.pctDayChange=e.data[0].change_pct>0?"+".concat(e.data[0].change_pct):e.data[0].change_pct,t.currency=e.data[0].currency}))}}),g=v,y=(s("3b53"),Object(u["a"])(g,h,f,!1,null,"0a279d4f",null)),b=y.exports,_={computed:{owned:function(){return this.$store.getters.owned}},components:{"stock-component":b}},w=_,k=(s("7ae3"),Object(u["a"])(w,m,p,!1,null,"32f6df76",null)),C=k.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component"},t._l(t.favorites,(function(t){return s("stock-component",{key:t,attrs:{stock:t}})})),1)},S=[],x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"header flex-container"},[s("div",[s("span",[t._v(t._s(t.name)+" ("+t._s(t.stock)+") ")]),s("small",[t._v("(price: "+t._s(t.price)+t._s(t.currency)+")")])]),s("button",{on:{click:t.removeFromFav}},[t._v(" Remove from favorites ")])]),s("ul",{staticClass:"info"},["N/A"!==t.dayHigh?s("li",[t._v("Day High: "+t._s(t.dayHigh)+t._s(t.currency))]):t._e(),"N/A"!==t.dayLow?s("li",[t._v("Day Low: "+t._s(t.dayLow)+t._s(t.currency))]):t._e(),s("li",{staticClass:"green",class:{red:t.absoluteDayChange<0}},[t._v(" "+t._s(t.absoluteDayChange)+t._s(t.currency)+" ")]),s("li",{staticClass:"green",class:{red:t.absoluteDayChange<0}},[t._v(" "+t._s(t.pctDayChange)+"% ")])]),s("div",{staticClass:"controls flex-container"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"Quantity"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),s("p",{staticClass:"green",class:{red:t.tooExpensive}},[t._v(" Total : "+t._s(t.totalPrice)+"€ ")]),s("button",{attrs:{disabled:t.quantity<=0||!Number.isInteger(t.quantity)||t.tooExpensive},on:{click:t.buy}},[t._v(" Buy ")])])])},$=[],E={data:function(){return{quantity:0,price:0,dayHigh:0,dayLow:0,absoluteDayChange:0,pctDayChange:0,name:"",currency:""}},props:["stock"],computed:{totalPrice:function(){return"USD"===this.currency?Math.round(this.quantity*this.price*100/this.$store.getters.rate)/100:this.quantity*this.stock.price},tooExpensive:function(){return this.totalPrice>this.$store.getters.getFunds}},methods:{buy:function(){this.$store.commit("buy",{price:this.price,quantity:this.quantity}),this.$store.commit("addStock",{symbol:this.stock,quantity:this.quantity}),this.quantity=0},removeFromFav:function(){this.$store.commit("removeFromFav",this.stock)}},created:function(){var t=this;fetch("https://api.worldtradingdata.com/api/v1/stock?symbol=".concat(this.stock,"&api_token=").concat("OcgJhbKGABJtlwuhP5nADUUDa0ESUgbmqz0cj3eqNq7T3avPCrUe8drx0K1h")).then((function(t){return t.json()})).then((function(e){t.price=e.data[0].price,t.dayHigh=e.data[0].day_high,t.dayLow=e.data[0].day_low,t.name=e.data[0].name,t.absoluteDayChange=e.data[0].day_change>0?"+".concat(e.data[0].day_change):e.data[0].day_change,t.pctDayChange=e.data[0].change_pct>0?"+".concat(e.data[0].change_pct):e.data[0].change_pct,t.currency=e.data[0].currency}))}},O=E,P=(s("bcb9"),Object(u["a"])(O,x,$,!1,null,"68feca32",null)),j=P.exports,D={computed:{favorites:function(){return this.$store.getters.favorites}},components:{"stock-component":j}},F=D,U=(s("13c2"),Object(u["a"])(F,q,S,!1,null,"4c4ac44b",null)),T=U.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component"},[s("div",{staticClass:"searchBar"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],attrs:{type:"text"},domProps:{value:t.searchTerm},on:{keydown:t.keydown,input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),s("button",{on:{click:t.search}},[t._v("Search")])]),s("div",{staticClass:"flex-container"},[t._l(t.resultsArray,(function(t){return s("stock",{key:t.symbol,attrs:{stock:t}})})),t.notFound?s("h1",[t._v("Couldn't find any stock for you research")]):t._e()],2)])},A=[],L=(s("4160"),s("a434"),s("ac1f"),s("841c"),s("159b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"header flex-container"},[s("div",[s("span",[t._v(t._s(t.stock.name)+" ("+t._s(t.stock.symbol)+")")]),s("small",[t._v("(price: "+t._s(t.stock.price)+t._s(t.stock.currency)+")")])]),s("button",{attrs:{disabled:t.isInFavorites},on:{click:t.addToFav}},[t._v(" "+t._s(t.favoriteButtonText)+" ")])]),s("div",{staticClass:"controls flex-container"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"Quantity"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),s("p",{staticClass:"total",class:{red:t.tooExpensive}},[t._v(" Total : "+t._s(t.totalPrice)+"€ ")]),s("button",{attrs:{disabled:t.quantity<=0||!Number.isInteger(t.quantity)||t.tooExpensive},on:{click:t.buy}},[t._v(" Buy ")])])])}),I=[],H=(s("caad"),s("2532"),{data:function(){return{quantity:0}},props:["stock"],computed:{totalPrice:function(){return"USD"===this.stock.currency?Math.round(this.quantity*this.stock.price*100/this.$store.getters.rate)/100:this.quantity*this.stock.price},tooExpensive:function(){return this.totalPrice>this.$store.getters.getFunds},isInFavorites:function(){return this.$store.getters.favorites.includes(this.stock.symbol)},favoriteButtonText:function(){return this.isInFavorites?"Already in favorites":"Add to favorites"}},methods:{buy:function(){this.$store.commit("buy",{price:this.stock.price,quantity:this.quantity}),this.$store.commit("addStock",{symbol:this.stock.symbol,quantity:this.quantity}),this.quantity=0},addToFav:function(){this.$store.commit("addToFavorites",{symbol:this.stock.symbol})}}}),J=H,B=(s("ad1c"),Object(u["a"])(J,L,I,!1,null,"7dd0d098",null)),z=B.exports,M={data:function(){return{searchTerm:"",resultsArray:[],notFound:!1}},methods:{search:function(){var t=this,e="https://api.worldtradingdata.com/api/v1/stock_search?search_term=".concat(this.searchTerm,"&api_token=").concat("OcgJhbKGABJtlwuhP5nADUUDa0ESUgbmqz0cj3eqNq7T3avPCrUe8drx0K1h","&currency=EUR,USD");fetch(e,{mode:"cors"}).then((function(t){return t.json()})).then((function(e){t.resultsArray.splice(0,t.resultsArray.length),e.data.length<1?t.notFound=!0:(t.notFound=!1,e.data.forEach((function(e){var s={name:e.name,symbol:e.symbol,price:e.price,currency:e.currency};t.resultsArray.push(s)})))}))},keydown:function(t){"Enter"===t.key&&this.search()}},components:{stock:z}},K=M,R=(s("0ebf"),Object(u["a"])(K,N,A,!1,null,"17d88c7b",null)),G=R.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.LoggedInName?s("h1",[t._v(" Congratulations "+t._s(t.LoggedInName)+" your account is now created ")]):s("div",[s("h1",[t._v("sign up")]),t.errors.length?s("p",[s("b",[t._v("Please correct the following error(s):")])]):t._e(),t.servError?s("h2",[t._v(t._s(t.servError))]):t._e(),s("ul",t._l(t.errors,(function(e){return s("li",{key:e},[t._v(t._s(e))])})),0),s("form",{attrs:{action:"",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.checkForm(e)}}},[s("label",{attrs:{for:"username"}},[t._v("username: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",name:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("br"),s("br"),s("label",{attrs:{for:"email"}},[t._v("Email: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("br"),s("br"),s("label",{attrs:{for:"password"}},[t._v("Password: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("br"),s("br"),s("label",{attrs:{for:"passwordConf"}},[t._v("Confirm Password: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConf,expression:"passwordConf"}],attrs:{type:"password",name:"passwordConf"},domProps:{value:t.passwordConf},on:{input:function(e){e.target.composing||(t.passwordConf=e.target.value)}}}),s("br"),s("br"),s("input",{attrs:{type:"submit",value:"submit"}})])])},W=[],Y={data:function(){return{username:"",email:"",password:"",passwordConf:"",errors:[]}},computed:{LoggedInName:function(){return this.$store.getters.username},servError:function(){return this.$store.getters.signError}},methods:{checkForm:function(){var t=!0;this.errors.splice(0,this.errors.length),this.username.length<4&&(this.errors.push("username is too short"),t=!1),this.validateMail(this.email)||(this.errors.push("Email field is not a valid email"),t=!1),this.password.length<6&&(this.errors.push("password needs to be at least 6 characters long"),t=!1),this.validatePassword(this.password)||(this.errors.push("password needs to contain letters and numbers and not whitespace"),t=!1),this.password!==this.passwordConf&&(this.errors.push("passwords don't match"),t=!1),t&&this.$store.dispatch("signUp",{username:this.username,email:this.email,password:this.password,passwordConf:this.password})},validateMail:function(t){var e=/^[a-z0-9._-]+@[a-z0-9._-]{2,}\.[a-z]{2,4}$/;return e.test(t)},validatePassword:function(t){return/\d/.test(t)&&/[a-zA-Z]/.test(t)&&!/\s/.test(t)}},destroyed:function(){this.$store.commit("setSignError",null)}},Z=Y,V=Object(u["a"])(Z,Q,W,!1,null,null,null),X=V.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("Login")]),t.error?s("h2",[t._v(t._s(t.error))]):t._e(),s("form",{attrs:{action:"http://localhost:50/users/login",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("label",{attrs:{for:"username"}},[t._v("Username:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",name:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("br"),s("br"),s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("br"),s("br"),s("input",{attrs:{type:"submit",value:"Log In"}})])])},et=[],st={data:function(){return{username:"",password:""}},computed:{error:function(){return this.$store.getters.logError}},methods:{submit:function(){this.$store.commit("setStatus",{message:"Logging in...",status:"pending"}),this.$store.dispatch("logIn",{username:this.username,password:this.password})}}},nt=st,at=Object(u["a"])(nt,tt,et,!1,null,null,null),rt=at.exports,ot=[{path:"/",component:d},{path:"/portfolio",component:C},{path:"/favorites",component:T},{path:"/search",component:G},{path:"/signup",component:X},{path:"/login",component:rt},{path:"*",redirect:"/"}],it=s("2f62"),ct=(s("a15b"),s("25f0"),s("1276"),{funds:1e4}),ut={getFunds:function(){return ct.funds},fundsFormat:function(){var t=Math.round(ct.funds),e=t.toString().split("");return e.length>3&&e.splice(e.length-3,0,"."),e.join("")}},lt={buy:function(t,e){t.funds-=e.price*e.quantity},setFunds:function(t,e){t.funds=e}},dt={state:ct,getters:ut,mutations:lt},mt=(s("c975"),s("2909")),pt={favorites:[]},ht={favorites:function(){return pt.favorites}},ft={addToFavorites:function(t,e){t.favorites.includes(e.symbol)||t.favorites.push(e.symbol)},removeFromFav:function(t,e){var s=t.favorites.indexOf(e);t.favorites.splice(s,1)},setFav:function(t,e){t.favorites=Object(mt["a"])(e)}},vt={state:pt,getters:ht,mutations:ft},gt=(s("d81d"),{owned:[]}),yt={owned:function(){return gt.owned}},bt={addStock:function(t,e){var s=t.owned.map((function(t){return t.symbol})).indexOf(e.symbol);s<0?t.owned.push({symbol:e.symbol,quantity:e.quantity}):t.owned[s].quantity+=e.quantity},sellStock:function(t,e){var s=t.owned.map((function(t){return t.symbol})).indexOf(e.symbol);t.owned[s].quantity>=e.quantity&&(t.owned[s].quantity-=e.quantity)},setOwned:function(t,e){t.owned=Object(mt["a"])(e)}},_t={state:gt,getters:yt,mutations:bt},wt={rate:0},kt={rate:function(){return wt.rate}},Ct={updateRate:function(t,e){t.rate=e}},qt={updateRate:function(t){fetch("https://api.exchangeratesapi.io/latest",{mode:"cors"}).then((function(t){return t.json()})).then((function(e){t.commit("updateRate",e.rates["USD"])}))}},St={state:wt,getters:kt,mutations:Ct,actions:qt},xt={token:"",username:null,logError:null,signError:null},$t={username:function(){return xt.username},logError:function(){return xt.logError},signError:function(){return xt.signError}},Et={logIn:function(t,e){t.token=e.token,t.username=e.username},logOut:function(t){t.token="",t.username=null},setLogError:function(t,e){t.logError=e},setSignError:function(t,e){t.signError=e}},Ot={logIn:function(t,e){fetch("".concat("https://tradersim-api.herokuapp.com","/users/login"),{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password})}).then((function(t){return t.json()})).then((function(s){s.message?(t.commit("setLogError",s.message),t.dispatch("setStatus",{message:"Couldn't log in !",status:"error"})):(t.commit("logIn",{token:s.token,username:s.username}),e.signUp?t.dispatch("save"):(se.push("/"),t.dispatch("load"),t.commit("setLogError",null),t.dispatch("setStatus",{message:"Successfully logged in !",status:"success"})))})).catch((function(){t.dispatch("setStatus",{message:"Couldn't log in : can't reach the server",status:"error"})}))},signUp:function(t,e){t.commit("setStatus",{message:"Signing up...",status:"pending"}),fetch("".concat("https://tradersim-api.herokuapp.com","/users/signup"),{mode:"cors",method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e.username,email:e.email,password:e.password,passwordConf:e.passwordConf})}).then((function(e){return 200===e.status?t.dispatch("setStatus",{message:"Successfully signed up !",status:"success"}):t.dispatch("setStatus",{message:"Couldn't sign up",status:"error"}),e.json()})).then((function(s){"Success"===s.message?t.dispatch("logIn",{username:e.username,password:e.password,signUp:!0}):t.commit("setSignError",s.message)})).catch((function(){t.dispatch("setStatus",{message:"Couldn't sign up : can't reach the server",status:"error"})}))}},Pt={state:xt,getters:$t,mutations:Et,actions:Ot},jt={message:"",status:""},Dt={message:function(){return jt.message},status:function(){return jt.status}},Ft={setStatus:function(t,e){t.message=e.message,t.status=e.status},resetStatus:function(t){t.message="",t.status=""}},Ut={setStatus:function(t,e){t.commit("setStatus",e),setTimeout((function(){t.commit("resetStatus")}),1500)}},Tt={state:jt,getters:Dt,mutations:Ft,actions:Ut};n["a"].use(it["a"]);var Nt=new it["a"].Store({modules:{funds:dt,favorites:vt,owned:_t,rate:St,auth:Pt,status:Tt},mutations:{reset:function(t){t.funds.funds=1e4,t.favorites.favorites=[],t.owned.owned=[]}},actions:{save:function(t){t.commit("setStatus",{message:"Saving...",status:"pending"}),fetch("".concat("https://tradersim-api.herokuapp.com","/save"),{method:"POST",mode:"cors",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t.state.auth.token),"Content-Type":"application/json"},body:JSON.stringify({funds:t.state.funds.funds,favorites:t.state.favorites.favorites,owned:t.state.owned.owned})}).then((function(t){return t.json()})).then((function(e){200!==e.status?t.dispatch("setStatus",{message:"Couldn't save : ".concat(e.message),status:"error"}):t.dispatch("setStatus",{message:"Successfully saved !",status:"success"})})).catch((function(){t.dispatch("setStatus",{message:"Couldn't save : can't reach the server",status:"error"})}))},load:function(t){t.commit("setStatus",{message:"Loading your save...",status:"pending"}),fetch("".concat("https://tradersim-api.herokuapp.com","/save"),{mode:"cors",headers:{Authorization:"Bearer ".concat(t.state.auth.token)}}).then((function(t){return t.json()})).then((function(e){t.commit("setFunds",e.funds),t.commit("setOwned",e.owned),t.commit("setFav",e.favorites)})).catch((function(){t.dispatch("setStatus",{message:"Couldn't load data : can't reach the server",status:"error"})}))}}}),At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("navbar"),s("status-display"),s("router-view")],1)},Lt=[],It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("div",{staticClass:"flex-container",attrs:{id:"left-side"}},[s("router-link",{staticClass:"link",attrs:{to:"/","active-class":"active",exact:""}},[t._v("Home")]),s("router-link",{staticClass:"link",attrs:{to:"/portfolio","active-class":"active"}},[t._v("Portfolio")]),s("router-link",{staticClass:"link",attrs:{to:"/favorites","active-class":"active"}},[t._v("Favorites")]),s("router-link",{staticClass:"link",attrs:{to:"/search","active-class":"active"}},[t._v("Search stock")])],1),s("div",{staticClass:"flex-container",attrs:{id:"right-side"}},[s("p",[t._v("1€ = "+t._s(t.rate)+"$")]),s("div",{staticClass:"dropdown-container"},[t.authUsername?t._e():s("p",{staticClass:"button",style:{backgroundColor:t.color},on:{click:function(e){return e.stopPropagation(),t.show(e)}}},[t._v(" Account ▼ ")]),t.authUsername?s("p",{staticClass:"button",on:{click:function(e){return e.stopPropagation(),t.show(e)}}},[t._v(" "+t._s(t.authUsername)+"▼ ")]):t._e(),t.showDropdown&&!t.authUsername?s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hide,expression:"hide"}],staticClass:"dropdown",on:{click:t.hide}},[s("router-link",{staticClass:"link",attrs:{to:"/signup"}},[t._v("Sign Up")]),s("router-link",{staticClass:"link",attrs:{to:"/login"}},[t._v("Log In")])],1):t._e(),t.showDropdown&&t.authUsername?s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hide,expression:"hide"}],staticClass:"dropdown",on:{click:t.hide}},[s("p",{on:{click:t.save}},[t._v("Save")]),s("p",{on:{click:t.logout}},[t._v("Logout")])]):t._e()]),s("p",{attrs:{id:"funds"}},[t._v("Funds : "+t._s(t.funds)+"€")])])])},Ht=[],Jt={data:function(){return{showDropdown:!1,color:"#f9f6f6"}},computed:{funds:function(){return this.$store.getters.fundsFormat},rate:function(){return this.$store.getters.rate},authUsername:function(){return this.$store.getters.username}},methods:{hide:function(){this.showDropdown=!1,this.color="#f9f6f6"},show:function(){this.showDropdown=!0,this.color="#eee"},save:function(){this.$store.dispatch("save")},logout:function(){this.$store.commit("logOut"),this.$store.commit("reset"),this.$store.dispatch("setStatus",{message:"Successfully logged out",status:"success"}),this.$router.push("/")}},created:function(){this.$store.dispatch("updateRate")}},Bt=Jt,zt=(s("bcba"),Object(u["a"])(Bt,It,Ht,!1,null,"214b79f5",null)),Mt=zt.exports,Kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"fade"}},[t.message?s("h2",{class:{red:"error"===t.status,green:"success"===t.status,blue:"pending"===t.status}},[t._v(" "+t._s(t.message)+" ")]):t._e()])],1)},Rt=[],Gt={computed:{message:function(){return this.$store.getters.message},status:function(){return this.$store.getters.status}}},Qt=Gt,Wt=(s("5359"),Object(u["a"])(Qt,Kt,Rt,!1,null,"04f1f06b",null)),Yt=Wt.exports,Zt={name:"app",components:{navbar:Mt,statusDisplay:Yt}},Vt=Zt,Xt=(s("5c0b"),Object(u["a"])(Vt,At,Lt,!1,null,null,null)),te=Xt.exports;n["a"].config.productionTip=!1,n["a"].use(a["a"]);var ee=new a["a"]({routes:ot,mode:"history"});n["a"].directive("click-outside",{bind:function(t,e,s){t.clickOutside=function(n){t===n.target||t.contains(n.target)||s.context[e.expression]()},document.body.addEventListener("click",t.clickOutside)},unbind:function(t){document.body.removeEventListener("click",t.clickOutside)}}),new n["a"]({router:ee,store:Nt,render:function(t){return t(te)}}).$mount("#app");var se=e["default"]=ee},"5be2":function(t,e,s){"use strict";var n=s("7c8f"),a=s.n(n);a.a},"5c0b":function(t,e,s){"use strict";var n=s("9c0c"),a=s.n(n);a.a},"6af2":function(t,e,s){},"6f57":function(t,e,s){},7175:function(t,e,s){},"7ae3":function(t,e,s){"use strict";var n=s("6af2"),a=s.n(n);a.a},"7c8f":function(t,e,s){},"876e":function(t,e,s){},"9c0c":function(t,e,s){},aac4:function(t,e,s){},ad1c:function(t,e,s){"use strict";var n=s("aac4"),a=s.n(n);a.a},b5e0:function(t,e,s){},bcb9:function(t,e,s){"use strict";var n=s("4c59"),a=s.n(n);a.a},bcba:function(t,e,s){"use strict";var n=s("b5e0"),a=s.n(n);a.a}});
//# sourceMappingURL=app.23e3255c.js.map